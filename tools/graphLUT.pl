#!/usr/bin/perl -w

use strict;
use Image::Magick;

my %lut = (
	'fast' => [
		# VS
		0x10, 0x18, 0x18, 0x08, 0x18, 0x18, 0x08, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		# TP
		0x13, 0x14, 0x44, 0x12, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	],
	'slow' => [
		# VS
		0x02, 0x02, 0x01, 0x11, 0x12, 0x12, 0x22, 0x22, 0x66, 0x69,
		0x69, 0x59, 0x58, 0x99, 0x99, 0x88, 0x00, 0x00, 0x00, 0x00,
		# TP
		0xF8, 0xB4, 0x13, 0x51, 0x35, 0x51, 0x51, 0x19, 0x01, 0x00,
	],
);

foreach my $type (sort keys %lut) {
	my @raw = @{ $lut{$type} };
	my @tp = map { ( $_ & 15, $_ >> 4 ) } splice @raw, 20, 10;
	my @vs = map { [ $_ & 3, ($_ >> 2) & 3, ($_ >> 4) & 3, $_ >> 6 ] } @raw;
	print "$type:\n";
	my @ch = ("\e[0;1;30m\xc2\xb7\e[0m", '+', '-', '?');
	print  "          + + - -\n";
	for (my $i=0; $i<20; $i++) {
		printf "phase %02u: %s %s %s %s  (%u cycles)\n",
			$i+1,
			$ch[$vs[$i][0]],
			$ch[$vs[$i][1]],
			$ch[$vs[$i][2]],
			$ch[$vs[$i][3]],
			$tp[$i];
	}
	print  "          + - + -\n";
}
